(function(n,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.IriReactComponent={},n.react))})(this,function(n,e){"use strict";const f=t=>{const[u,r]=e.useState(!1),l=e.useCallback(()=>{!document.fullscreenElement?document.documentElement.requestFullscreen({navigationUI:t||"hide"}):document.exitFullscreen()},[t]);return e.useEffect(()=>{const s=()=>{r(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",s),()=>document.removeEventListener("fullscreenchange",s)},[]),[u,l]},m=(t="(min-width:1024px)")=>{const[u,r]=e.useState(!1);return e.useEffect(()=>{if(!t)return;const l=a=>{r(a.matches)},s=window.matchMedia(t);return s.addEventListener("change",l),r(s.matches),()=>s.removeEventListener("change",l)},[t]),u},p={"audio-busy":"Could not access audio device","audio-hardware":"Could not detect audio device",canceled:"Cancelled",interrupted:"Interrupted","invalid-argument":"Invalid options","language-unavailable":"No appropriate voice for current language",network:"You are not connected to internet","not-allowed":"The browser blocked the operation","synthesis-failed":"Failed to synthesis the voice","synthesis-unavailable":"No synthesis engine available","text-too-long":"The inputted text is too long","voice-unavailable":"The selected voice is not available"},v=({lang:t,onVoiceGet:u})=>{const r=e.useRef([]),l=e.useRef(),s=e.useCallback(({text:c,options:i={rate:.75,pitch:1,volume:1},onEnd:d,onError:h})=>{try{if(!c)throw new Error("Invalid text");if(!r.current.length)throw new Error("No voice available");const o=new SpeechSynthesisUtterance(c);o.pitch=i.pitch,o.rate=i.rate,o.volume=i.volume,o.voice=r.current[0],o.addEventListener("error",g),typeof d=="function"&&o.addEventListener("end",d)}catch(o){console.error(o),typeof h=="function"&&h(o)}},[]),a=e.useCallback(()=>{if(!t){console.error("Lang is undefined");return}const c=speechSynthesis.getVoices().filter(i=>i.lang==t&&(i.name.includes("Google")||i.name.includes("Natural")));r.current=c,typeof u=="function"&&u(c)},[]),g=e.useCallback(c=>{throw new Error(p[c.error])},[]);return e.useEffect(()=>{l.current=speechSynthesis,a()},[]),{speak:s}};n.useFullscreen=f,n.useMediaQuery=m,n.useSpeechSynthesis=v,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
